{"ast":null,"code":"import _classCallCheck from\"/home/runner/work/watchparty/watchparty/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/runner/work/watchparty/watchparty/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/runner/work/watchparty/watchparty/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/runner/work/watchparty/watchparty/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{Icon,Progress,Label,Popup,Dropdown}from'semantic-ui-react';import{Slider}from'react-semantic-ui-range';import{formatTimestamp}from'../../utils';import styles from'./Controls.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Controls=/*#__PURE__*/function(_React$Component){_inherits(Controls,_React$Component);var _super=_createSuper(Controls);function Controls(){var _this;_classCallCheck(this,Controls);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={showTimestamp:false,hoverTimestamp:0,hoverPos:0};_this.onMouseOver=function(){// console.log('mouseover');\n_this.setState({showTimestamp:true});};_this.onMouseOut=function(){// console.log('mouseout');\n_this.setState({showTimestamp:false});};_this.onMouseMove=function(e){var rect=e.target.getBoundingClientRect();var x=e.clientX-rect.left;var max=rect.width;var pct=x/max;// console.log(x, max);\nvar target=pct*_this.props.duration;// console.log(pct);\nif(pct>=0){_this.setState({hoverTimestamp:target,hoverPos:pct});}};return _this;}_createClass(Controls,[{key:\"render\",value:function render(){var _this2=this,_this$props$playbackR;var _this$props=this.props,roomTogglePlay=_this$props.roomTogglePlay,roomSeek=_this$props.roomSeek,localFullScreen=_this$props.localFullScreen,localToggleMute=_this$props.localToggleMute,localSubtitleModal=_this$props.localSubtitleModal,localSeek=_this$props.localSeek,currentTime=_this$props.currentTime,duration=_this$props.duration,leaderTime=_this$props.leaderTime,isPauseDisabled=_this$props.isPauseDisabled,disabled=_this$props.disabled,subtitled=_this$props.subtitled,paused=_this$props.paused,muted=_this$props.muted,volume=_this$props.volume;var isBehind=leaderTime&&leaderTime-currentTime>5;var buffers=this.props.timeRanges.map(function(_ref){var start=_ref.start,end=_ref.end;var buffStartPct=start/duration*100;var buffLengthPct=(end-start)/duration*100;return/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',height:'6px',backgroundColor:'grey',left:buffStartPct+'%',width:buffLengthPct+'%',bottom:'0.2em',zIndex:-1}},start);});return/*#__PURE__*/_jsxs(\"div\",{className:styles.controls,children:[/*#__PURE__*/_jsx(Icon,{size:\"large\",onClick:function onClick(){roomTogglePlay();},className:\"\".concat(styles.control,\" \").concat(styles.action),disabled:disabled||isPauseDisabled,name:paused?'play':'pause'}),/*#__PURE__*/_jsx(Popup,{content:isBehind?'Skip to the live stream position':\"You're at the live stream position\",trigger:/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){if(_this2.props.isLiveHls){// do a regular seek rather than sync self if it's HLS since we're basically seeking to the live position\n// Also, clear the room TS since we want to start at live again on refresh\n_this2.props.roomSeek(null,Number.MAX_SAFE_INTEGER);}else{localSeek();}},className:\"\".concat(styles.control,\" \").concat(styles.action,\" \").concat(styles.text),style:{color:isBehind?'gray':'red'},children:[/*#__PURE__*/_jsx(Icon,{size:\"small\",name:'circle'}),\"LIVE\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.control,\" \").concat(styles.text),children:formatTimestamp(currentTime)}),/*#__PURE__*/_jsxs(Progress,{size:\"tiny\",color:\"blue\",onClick:duration<Infinity&&!this.props.disabled?roomSeek:undefined,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onMouseMove:this.onMouseMove,className:\"\".concat(styles.control,\" \").concat(styles.action),inverted:true,style:{flexGrow:1,marginTop:0,marginBottom:0,position:'relative',minWidth:'50px'},value:currentTime,total:duration,children:[buffers,/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',bottom:'0px',left:\"calc(\".concat(this.props.currentTime/this.props.duration*100+'% - 6px',\")\"),pointerEvents:'none',width:'12px',height:'12px',transform:duration<Infinity&&this.state.showTimestamp?'scale(1, 1)':'scale(0, 0)',transition:'0.25s all',borderRadius:'50%',backgroundColor:'#54c8ff'}}),duration<Infinity&&this.state.showTimestamp&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',bottom:'0px',left:\"calc(\".concat(this.state.hoverPos*100+'% - 27px',\")\"),pointerEvents:'none'},children:/*#__PURE__*/_jsx(Label,{basic:true,color:\"blue\",pointing:\"below\",children:/*#__PURE__*/_jsx(\"div\",{children:formatTimestamp(this.state.hoverTimestamp)})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.control,\" \").concat(styles.text),children:formatTimestamp(duration)}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'10px',fontWeight:700},children:[/*#__PURE__*/_jsx(Popup,{content:this.props.roomPlaybackRate===0?'Playing at a dynamic rate to keep you in sync':'Playing at a manually selected rate',trigger:/*#__PURE__*/_jsx(Icon,{name:\"sync alternate\",loading:this.props.roomPlaybackRate===0})}),(_this$props$playbackR=this.props.playbackRate)===null||_this$props$playbackR===void 0?void 0:_this$props$playbackR.toFixed(2),\"x\"]}),/*#__PURE__*/_jsx(Dropdown,{style:{marginLeft:-8},className:\"\".concat(styles.control),disabled:this.props.disabled,children:/*#__PURE__*/_jsx(Dropdown.Menu,{children:[{key:'Auto',text:'Auto',value:0},{key:'0.25',text:'0.25x',value:0.25},{key:'0.5',text:'0.5x',value:0.5},{key:'0.75',text:'0.75x',value:0.75},{key:'1',text:'1x',value:1},{key:'1.25',text:'1.25x',value:1.25},{key:'1.5',text:'1.5x',value:1.5},{key:'1.75',text:'1.75x',value:1.75},{key:'2',text:'2x',value:2},{key:'3',text:'3x',value:3}].map(function(item){return/*#__PURE__*/_jsx(Dropdown.Item,{text:item.text,onClick:function onClick(){return _this2.props.roomSetPlaybackRate(item.value);},active:_this2.props.roomPlaybackRate===item.value},item.key);})})}),/*#__PURE__*/_jsx(Icon,{onClick:function onClick(){_this2.props.roomSetLoop(Boolean(!_this2.props.loop));},className:\"\".concat(styles.control,\" \").concat(styles.action),name:'repeat',title:\"Loop\",loading:this.props.loop,disabled:this.props.disabled}),this.props.isYouTube?/*#__PURE__*/_jsx(Dropdown,{icon:\"closed captioning outline large\",className:\"\".concat(styles.control),children:/*#__PURE__*/_jsx(Dropdown.Menu,{children:[{key:'hidden',text:'Off',value:'hidden'},{key:'en',text:'English',value:'showing'},{key:'es',text:'Spanish',value:'showing'}].map(function(item){return/*#__PURE__*/_jsx(Dropdown.Item,{text:item.text,onClick:function onClick(){return _this2.props.localSetSubtitleMode(item.value,item.key);}},item.key);})})}):/*#__PURE__*/_jsx(Icon,{size:\"large\",onClick:function onClick(){localSubtitleModal();},className:\"\".concat(styles.control,\" \").concat(styles.action),name:subtitled?'closed captioning':'closed captioning outline',title:\"Captions\"}),/*#__PURE__*/_jsx(Icon,{size:\"large\",onClick:function onClick(){return localFullScreen(false);},className:\"\".concat(styles.control,\" \").concat(styles.action),style:{transform:'rotate(90deg)'},name:\"window maximize outline\",title:\"Theater Mode\"}),/*#__PURE__*/_jsx(Icon,{size:\"large\",onClick:function onClick(){return localFullScreen(true);},className:\"\".concat(styles.control,\" \").concat(styles.action),name:\"expand\",title:\"Fullscreen\"}),/*#__PURE__*/_jsx(Icon,{size:\"large\",onClick:function onClick(){localToggleMute();},className:\"\".concat(styles.control,\" \").concat(styles.action),name:muted?'volume off':'volume up',title:\"Mute\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:'100px',marginRight:'10px'},children:/*#__PURE__*/_jsx(Slider,{value:volume,color:'blue',disabled:muted,settings:{min:0,max:1,step:0.01,onChange:function onChange(value){if(value!==_this2.props.volume&&!isNaN(value)){_this2.props.localSetVolume(value);}}}})})]});}}]);return Controls;}(React.Component);","map":{"version":3,"names":["React","Icon","Progress","Label","Popup","Dropdown","Slider","formatTimestamp","styles","Controls","state","showTimestamp","hoverTimestamp","hoverPos","onMouseOver","setState","onMouseOut","onMouseMove","e","rect","target","getBoundingClientRect","x","clientX","left","max","width","pct","props","duration","roomTogglePlay","roomSeek","localFullScreen","localToggleMute","localSubtitleModal","localSeek","currentTime","leaderTime","isPauseDisabled","disabled","subtitled","paused","muted","volume","isBehind","buffers","timeRanges","map","start","end","buffStartPct","buffLengthPct","position","height","backgroundColor","bottom","zIndex","controls","control","action","isLiveHls","Number","MAX_SAFE_INTEGER","text","color","Infinity","undefined","flexGrow","marginTop","marginBottom","minWidth","pointerEvents","transform","transition","borderRadius","fontSize","fontWeight","roomPlaybackRate","playbackRate","toFixed","marginLeft","key","value","item","roomSetPlaybackRate","roomSetLoop","Boolean","loop","isYouTube","localSetSubtitleMode","marginRight","min","step","onChange","isNaN","localSetVolume","Component"],"sources":["/home/runner/work/watchparty/watchparty/src/components/Controls/Controls.tsx"],"sourcesContent":["import React from 'react';\nimport { Icon, Progress, Label, Popup, Dropdown } from 'semantic-ui-react';\nimport { Slider } from 'react-semantic-ui-range';\nimport { formatTimestamp } from '../../utils';\nimport styles from './Controls.module.css';\n\ninterface ControlsProps {\n  duration: number;\n  paused: boolean;\n  muted: boolean;\n  volume: number;\n  subtitled: boolean;\n  currentTime: number;\n  disabled?: boolean;\n  leaderTime?: number;\n  isPauseDisabled?: boolean;\n  playbackRate: number;\n  beta: boolean;\n  roomPlaybackRate: number;\n  isYouTube: boolean;\n  isLiveHls: boolean;\n  timeRanges: { start: number; end: number }[];\n  loop: boolean;\n  roomTogglePlay: () => void;\n  roomSeek: (e: any, time: number) => void;\n  roomSetPlaybackRate: (rate: number) => void;\n  roomSetLoop: (loop: boolean) => void;\n  localFullScreen: (fs: boolean) => void;\n  localToggleMute: () => void;\n  localSubtitleModal: () => void;\n  localSeek: () => void;\n  localSetVolume: (volume: number) => void;\n  localSetSubtitleMode: (mode: TextTrackMode, lang?: string) => void;\n}\n\nexport class Controls extends React.Component<ControlsProps> {\n  state = {\n    showTimestamp: false,\n    hoverTimestamp: 0,\n    hoverPos: 0,\n  };\n\n  onMouseOver = () => {\n    // console.log('mouseover');\n    this.setState({ showTimestamp: true });\n  };\n\n  onMouseOut = () => {\n    // console.log('mouseout');\n    this.setState({ showTimestamp: false });\n  };\n\n  onMouseMove = (e: any) => {\n    const rect = e.target.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const max = rect.width;\n    const pct = x / max;\n    // console.log(x, max);\n    const target = pct * this.props.duration;\n    // console.log(pct);\n    if (pct >= 0) {\n      this.setState({ hoverTimestamp: target, hoverPos: pct });\n    }\n  };\n\n  render() {\n    const {\n      roomTogglePlay,\n      roomSeek,\n      localFullScreen,\n      localToggleMute,\n      localSubtitleModal,\n      localSeek,\n      currentTime,\n      duration,\n      leaderTime,\n      isPauseDisabled,\n      disabled,\n      subtitled,\n      paused,\n      muted,\n      volume,\n    } = this.props;\n    const isBehind = leaderTime && leaderTime - currentTime > 5;\n    const buffers = this.props.timeRanges.map(({ start, end }) => {\n      const buffStartPct = (start / duration) * 100;\n      const buffLengthPct = ((end - start) / duration) * 100;\n      return (\n        <div\n          key={start}\n          style={{\n            position: 'absolute',\n            height: '6px',\n            backgroundColor: 'grey',\n            left: buffStartPct + '%',\n            width: buffLengthPct + '%',\n            bottom: '0.2em',\n            zIndex: -1,\n          }}\n        ></div>\n      );\n    });\n    return (\n      <div className={styles.controls}>\n        <Icon\n          size=\"large\"\n          onClick={() => {\n            roomTogglePlay();\n          }}\n          className={`${styles.control} ${styles.action}`}\n          disabled={disabled || isPauseDisabled}\n          name={paused ? 'play' : 'pause'}\n        />\n        <Popup\n          content={\n            isBehind\n              ? 'Skip to the live stream position'\n              : \"You're at the live stream position\"\n          }\n          trigger={\n            <div\n              onClick={() => {\n                if (this.props.isLiveHls) {\n                  // do a regular seek rather than sync self if it's HLS since we're basically seeking to the live position\n                  // Also, clear the room TS since we want to start at live again on refresh\n                  this.props.roomSeek(null, Number.MAX_SAFE_INTEGER);\n                } else {\n                  localSeek();\n                }\n              }}\n              className={`${styles.control} ${styles.action} ${styles.text}`}\n              style={{\n                color: isBehind ? 'gray' : 'red',\n              }}\n            >\n              <Icon size=\"small\" name={'circle'} />\n              LIVE\n            </div>\n          }\n        />\n        <div className={`${styles.control} ${styles.text}`}>\n          {formatTimestamp(currentTime)}\n        </div>\n        <Progress\n          size=\"tiny\"\n          color=\"blue\"\n          onClick={\n            duration < Infinity && !this.props.disabled ? roomSeek : undefined\n          }\n          onMouseOver={this.onMouseOver}\n          onMouseOut={this.onMouseOut}\n          onMouseMove={this.onMouseMove}\n          className={`${styles.control} ${styles.action}`}\n          inverted\n          style={{\n            flexGrow: 1,\n            marginTop: 0,\n            marginBottom: 0,\n            position: 'relative',\n            minWidth: '50px',\n          }}\n          value={currentTime}\n          total={duration}\n        >\n          {buffers}\n          {\n            <div\n              style={{\n                position: 'absolute',\n                bottom: '0px',\n                left: `calc(${\n                  (this.props.currentTime / this.props.duration) * 100 +\n                  '% - 6px'\n                })`,\n                pointerEvents: 'none',\n                width: '12px',\n                height: '12px',\n                transform:\n                  duration < Infinity && this.state.showTimestamp\n                    ? 'scale(1, 1)'\n                    : 'scale(0, 0)',\n                transition: '0.25s all',\n                borderRadius: '50%',\n                backgroundColor: '#54c8ff',\n              }}\n            ></div>\n          }\n          {duration < Infinity && this.state.showTimestamp && (\n            <div\n              style={{\n                position: 'absolute',\n                bottom: '0px',\n                left: `calc(${this.state.hoverPos * 100 + '% - 27px'})`,\n                pointerEvents: 'none',\n              }}\n            >\n              <Label basic color=\"blue\" pointing=\"below\">\n                <div>{formatTimestamp(this.state.hoverTimestamp)}</div>\n              </Label>\n            </div>\n          )}\n        </Progress>\n        <div className={`${styles.control} ${styles.text}`}>\n          {formatTimestamp(duration)}\n        </div>\n        <div style={{ fontSize: '10px', fontWeight: 700 }}>\n          <Popup\n            content={\n              this.props.roomPlaybackRate === 0\n                ? 'Playing at a dynamic rate to keep you in sync'\n                : 'Playing at a manually selected rate'\n            }\n            trigger={\n              <Icon\n                name=\"sync alternate\"\n                loading={this.props.roomPlaybackRate === 0}\n              />\n            }\n          />\n          {this.props.playbackRate?.toFixed(2)}x\n        </div>\n        {\n          <Dropdown\n            style={{ marginLeft: -8 }}\n            className={`${styles.control}`}\n            disabled={this.props.disabled}\n          >\n            <Dropdown.Menu>\n              {[\n                { key: 'Auto', text: 'Auto', value: 0 },\n                { key: '0.25', text: '0.25x', value: 0.25 },\n                { key: '0.5', text: '0.5x', value: 0.5 },\n                { key: '0.75', text: '0.75x', value: 0.75 },\n                { key: '1', text: '1x', value: 1 },\n                { key: '1.25', text: '1.25x', value: 1.25 },\n                { key: '1.5', text: '1.5x', value: 1.5 },\n                { key: '1.75', text: '1.75x', value: 1.75 },\n                { key: '2', text: '2x', value: 2 },\n                { key: '3', text: '3x', value: 3 },\n              ].map((item) => (\n                <Dropdown.Item\n                  key={item.key}\n                  text={item.text}\n                  onClick={() => this.props.roomSetPlaybackRate(item.value)}\n                  active={this.props.roomPlaybackRate === item.value}\n                />\n              ))}\n            </Dropdown.Menu>\n          </Dropdown>\n        }\n        <Icon\n          onClick={() => {\n            this.props.roomSetLoop(Boolean(!this.props.loop));\n          }}\n          className={`${styles.control} ${styles.action}`}\n          name={'repeat'}\n          title=\"Loop\"\n          loading={this.props.loop}\n          disabled={this.props.disabled}\n        />\n        {this.props.isYouTube ? (\n          <Dropdown\n            icon=\"closed captioning outline large\"\n            className={`${styles.control}`}\n          >\n            <Dropdown.Menu>\n              {[\n                { key: 'hidden', text: 'Off', value: 'hidden' },\n                { key: 'en', text: 'English', value: 'showing' },\n                { key: 'es', text: 'Spanish', value: 'showing' },\n              ].map((item) => (\n                <Dropdown.Item\n                  key={item.key}\n                  text={item.text}\n                  onClick={() =>\n                    this.props.localSetSubtitleMode(\n                      item.value as TextTrackMode,\n                      item.key\n                    )\n                  }\n                />\n              ))}\n            </Dropdown.Menu>\n          </Dropdown>\n        ) : (\n          <Icon\n            size=\"large\"\n            onClick={() => {\n              localSubtitleModal();\n            }}\n            className={`${styles.control} ${styles.action}`}\n            name={subtitled ? 'closed captioning' : 'closed captioning outline'}\n            title=\"Captions\"\n          />\n        )}\n        <Icon\n          size=\"large\"\n          onClick={() => localFullScreen(false)}\n          className={`${styles.control} ${styles.action}`}\n          style={{ transform: 'rotate(90deg)' }}\n          name=\"window maximize outline\"\n          title=\"Theater Mode\"\n        />\n        <Icon\n          size=\"large\"\n          onClick={() => localFullScreen(true)}\n          className={`${styles.control} ${styles.action}`}\n          name=\"expand\"\n          title=\"Fullscreen\"\n        />\n        <Icon\n          size=\"large\"\n          onClick={() => {\n            localToggleMute();\n          }}\n          className={`${styles.control} ${styles.action}`}\n          name={muted ? 'volume off' : 'volume up'}\n          title=\"Mute\"\n        />\n        <div style={{ width: '100px', marginRight: '10px' }}>\n          <Slider\n            value={volume}\n            color={'blue'}\n            disabled={muted}\n            settings={{\n              min: 0,\n              max: 1,\n              step: 0.01,\n              onChange: (value: number) => {\n                if (value !== this.props.volume && !isNaN(value)) {\n                  this.props.localSetVolume(value);\n                }\n              },\n            }}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}